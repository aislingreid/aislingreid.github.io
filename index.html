<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script src="script.js"></script>
    <title>Wordle Remix</title>
</head>
<body>

    <div id="game-board">
        <h1> Wordle </h1>
        <p>remix</p>
        <div id="input-field">
            <input type="text" id="Guess" name="Guess" maxlength="5" autocomplete="off" autofocus>
            <button id="btnSubmit" onClick="Test()">Submit</button>
        </div>
        <div id="play-again">

        </div>

        <div id="letter-row">
            <div id="G1L1" class = "letter-box"></div>
            <div id="G1L2" class = "letter-box"></div>
            <div id="G1L3" class = "letter-box"></div>
            <div id="G1L4" class = "letter-box"></div>
            <div id="G1L5" class = "letter-box"></div>
        </div>
        <div id="letter-row">
            <div id="G2L1" class = "letter-box"></div>
            <div id="G2L2" class = "letter-box"></div>
            <div id="G2L3" class = "letter-box"></div>
            <div id="G2L4" class = "letter-box"></div>
            <div id="G2L5" class = "letter-box"></div>
        </div>
        <div id="letter-row">
            <div id="G3L1" class = "letter-box"></div>
            <div id="G3L2" class = "letter-box"></div>
            <div id="G3L3" class = "letter-box"></div>
            <div id="G3L4" class = "letter-box"></div>
            <div id="G3L5" class = "letter-box"></div>
        </div>
        <div id="letter-row">
            <div id="G4L1" class = "letter-box"></div>
            <div id="G4L2" class = "letter-box"></div>
            <div id="G4L3" class = "letter-box"></div>
            <div id="G4L4" class = "letter-box"></div>
            <div id="G4L5" class = "letter-box"></div>
        </div>
        <div id="letter-row">
            <div id="G5L1" class = "letter-box"></div>
            <div id="G5L2" class = "letter-box"></div>
            <div id="G5L3" class = "letter-box"></div>
            <div id="G5L4" class = "letter-box"></div>
            <div id="G5L5" class = "letter-box"></div>
        </div>
        <div id="letter-row">
            <div id="G6L1" class = "letter-box"></div>
            <div id="G6L2" class = "letter-box"></div>
            <div id="G6L3" class = "letter-box"></div>
            <div id="G6L4" class = "letter-box"></div>
            <div id="G6L5" class = "letter-box"></div>
        </div>

<h2>Guessed Letters</h2>
        <div id="letter-row">
            <div id="a" class="character">A</div>
            <div id="b" class="character">B</div>
            <div id="c" class="character">C</div>
            <div id="d" class="character">D</div>
            <div id="e" class="character">E</div>
            <div id="f" class="character">F</div>
            <div id="g" class="character">G</div>
            <div id="h" class="character">H</div>
            <div id="i" class="character">I</div>
        </div>
        <div id="letter-row">

            <div id="j" class="character">J</div>
            <div id="k" class="character">K</div>
            <div id="l" class="character">L</div>
            <div id="m" class="character">M</div>
            <div id="n" class="character">N</div>
            <div id="o" class="character">O</div>
            <div id="p" class="character">P</div>
            <div id="q" class="character">Q</div>
        </div>
        <div id="letter-row">

            <div id="r" class="character">R</div>
            <div id="s" class="character">S</div>
            <div id="t" class="character">T</div>
            <div id="u" class="character">U</div>
            <div id="v" class="character">V</div>
            <div id="w" class="character">W</div>
            <div id="x" class="character">X</div>
            <div id="y" class="character">Y</div>
            <div id="z" class="character">Z</div>
        </div>
    </div>


    <script>
    // Get the input field
    var input = document.getElementById("Guess");
    // Execute a function when the user presses a key on the keyboard
    input.addEventListener("keypress", function(event) {
    // If the user presses the "Enter" key on the keyboard
    if (event.key === "Enter") {
        // Trigger the button element with a click
        document.getElementById("btnSubmit").click();
    }
    });
        function Test() {
            var guess = document.getElementById('Guess').value.toLowerCase();
            var answer = "tiers"
            var x = 0
            for (var k = 1; k < 8; k++) {
                if (k == 6 && guess!= answer){
                    document.getElementById("input-field").innerHTML = ("Sorry, you have lost. The answer was " + answer + ".");
            }
            if (document.getElementById("G"+ k + "L1").textContent.length == 0){
                x = k;
                break;
            }
        }
        if (guess.length != 5) {
            alert("Your guess must be 5 letters long");
            return false;
        }
        for (var i = 0; i < 5; i++) {
        //loop through each box
            //if the character is in the word in the same position, colour it green on the game board and alphabet
            if (guess.charAt(i) === answer.charAt(i)) {
                letter = document.getElementById("G" + x + "L" + (i+1));
                letter.innerHTML = guess[i]
                letter.style.color="chartreuse";
                character = document.getElementById(guess[i]);
                character.style.color="lime";
            }
            //if the character is not in the word, colour it grey on the game board and alphabet
            else if (answer.includes(guess.charAt(i)) == false) {
                letter = document.getElementById("G" + x + "L" + (i+1));
                letter.innerHTML = guess[i]
                letter.style.color="DarkGrey";
                character = document.getElementById(guess[i]);
                character.style.color="DarkGrey";
            }
            else {
            //character is in word but in wrong position
            //if the number of times the character has appeared in the guess is equal to or less than the number in the answer, it should be yellow
            //if the number of times the character has appeared in the guess is more than the number in the answer, it should be grey
            //number of times letter is in the guess word
            var countg = 0
            for (var j = 0; j < i+1; j++) {
                if (guess[j] === guess[i]) {
                    countg += 1;
                }
            };
            //number of times the letter is in the answer
            var counta = 0
            for (var j = 0; j < 5; j++) {
                if (answer[j] === guess[i]) {
                    counta += 1;
                }
            };
            //number of times the letter is already in the correct place
            var countc = 0
            for (var j = 0; j < 5; j++) {
                if (guess.charAt(i) === guess.charAt(j) && guess.charAt(i) === answer.charAt(j)) {
                countc += 1;
                }
            };
             counta = counta - countc
            if (countg > counta) {
                    letter = document.getElementById("G" + x + "L" + (i+1));
                    letter.innerHTML = guess[i]
                    letter.style.color="DarkGrey";
                }
            else {
                    letter = document.getElementById("G" + x + "L" + (i+1));
                    letter.innerHTML = guess[i]
                    letter.style.color="#F9B400";
                    character = document.getElementById(guess[i]);
                    if (character.style.color != "lime") {
                        character.style.color="#F9B400";
                    }

                }
            }
        }
        document.getElementById("Guess").value = '';
        if (guess == answer) {
            document.getElementById("input-field").innerHTML = ("Correct! The answer was " + answer + ".");
            //document.getElementById("play-again").innerHTML = "<button id="playAgain" onClick="window.location.reload();" >Play Again!</button>";
            //document.getElementById("play-again").innerHTML = ("Testing");
            let btn = document.createElement("button");
            btn.innerHTML = "Play Again!";
            document.getElementById("play-again").appendChild(btn);
            btn.onclick = function () {
                window.location.reload();
            };
        }
    }

    </script>
</body>
</html>
